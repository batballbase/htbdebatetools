{"version":3,"sources":["webpack:///app/components/common/settingModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwFA;AACA;AAEA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA,oBADA;AAEA,8BAFA;AAGA,yBAHA;AAIA,8BAJA;AAKA,mBALA;AAMA,oBANA;AAOA,oBAPA;AAQA,uBARA;AASA,4BATA;AAUA,0BAVA;AAWA,yBAXA;AAYA;AAZA,OADA;AAeA;AACA,oBADA;AAEA,mBAFA;AAGA,oBAHA;AAIA,oBAJA;AAKA,uBALA;AAMA,4BANA;AAOA,0BAPA;AAQA,yBARA;AASA;AATA;AAfA;AA2BA,GA7BA;AA8BA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA,KARA;AASA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA,KAjBA;AAkBA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AAzBA,GA9BA;AAyDA;AACA;AACA,gBADA;AAEA;AACA;AACA;AACA;AADA;AAGA;AAEA;AACA;AACA;AACA,SAFA,EAEA,IAFA;AAGA;AAbA,KADA;AAgBA;AACA;AACA;AACA;AAnBA,GAzDA;AA8EA,8BACA,yDACA,oBADA,EAEA,QAFA,EADA,CA9EA;AAoFA,SApFA,qBAoFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KALA;AAMA,GA7FA;AA8FA,WA9FA;AAiGA;AAjGA,G","file":"app/index.eda39509da1c85a3de5b.hot-update.js","sourcesContent":["<template>\n    <div class=\"modal\" tabindex=\"-1\" role=\"dialog\" data-backdrop=\"static\" data-keyboard=\"false\">\n        <div class=\"modal-dialog\" role=\"document\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <h5 class=\"modal-title\">\n                        <i class=\"fas fa-cog\"></i>\n                        設定\n                    </h5>\n                    <!-- <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                        <span aria-hidden=\"true\">&times;</span>\n                    </button> -->\n                </div>\n                <div class=\"modal-body\">\n                    <form>\n                        <div class=\"form-group\">\n                            <label for=\"exampleInputEmail1\">網站標題</label>\n                            <input type=\"text\" class=\"form-control\"   v-model=\"input.webTitle\">\n                        </div>\n                        <div class=\"form-group\">\n                            <label for=\"exampleInputEmail1\" style=\"display: flex;\">\n                                Header 顏色\n                                <span :style=\"{ background: input.headerColor, width: '20px', height: '20px', display: 'inline-block', border: '1px solid #999' }\"></span>\n                            </label>\n                            <input type=\"text\" class=\"form-control\"   v-model=\"input.headerColor\">\n                        </div>\n                        <div class=\"form-group\">\n                            <label for=\"exampleInputEmail1\" style=\"display: flex;\">\n                                背景圖片\n                            </label>\n                            <input type=\"text\" class=\"form-control\"   v-model=\"input.backgroundImg\">\n                        </div>\n                        <div class=\"form-group\">\n                            <label for=\"exampleInputEmail1\" style=\"display: flex;\">\n                                背景透明度\n                            </label>\n                            <input type=\"number\" class=\"form-control\" v-model.number=\"input.backgroundOpacity\" min=\"0\" max=\"1\" step=\"0.1\">\n                        </div>\n                        <hr />\n                        <div class=\"form-group\">\n                            <label for=\"exampleInputEmail1\">區塊寬度 [{{input.boxWidth}} px]</label>\n                            <input type=\"range\" class=\"form-control\"  min=\"100\" max=\"200\" v-model=\"input.boxWidth\">\n                        </div>\n                        <div class=\"form-group\">\n                            <label for=\"exampleInputEmail1\">區塊高度 [{{input.boxHeight}} px]</label>\n                            <input type=\"range\" class=\"form-control\" min=\"50\" max=\"100\" v-model=\"input.boxHeight\">\n                        </div>\n                        <div class=\"form-group\">\n                            <label for=\"exampleInputEmail1\">標題大小 [{{input.titleSize}} px]</label>\n                            <input type=\"range\" class=\"form-control\" min=\"15\" max=\"25\" v-model=\"input.titleSize\">\n                        </div>\n                        <div class=\"form-group\">\n                            <label for=\"exampleInputEmail1\">副標題大小 [{{input.subtitleSize}} px]</label>\n                            <input type=\"range\" class=\"form-control\" min=\"15\" max=\"25\" v-model=\"input.subtitleSize\">\n                        </div>\n                        <div class=\"form-group\">\n                            <label for=\"exampleInputEmail1\">區塊預設顏色 <div class=\"show-blcok\" v-bind:style=\"{background: input.defaultColor}\"></div></label>\n                            <input type=\"text\" class=\"form-control\"   v-model=\"input.defaultColor\">\n                        </div>\n                        <div class=\"form-group\">\n                            <label for=\"exampleInputEmail1\">區塊選取顏色 <div class=\"show-blcok\" v-bind:style=\"{background: input.focusColor}\"></div></label>\n                            <input type=\"text\" class=\"form-control\"   v-model=\"input.focusColor\">\n                        </div>\n                        <div class=\"form-group\">\n                            <label for=\"exampleInputEmail1\">區塊完成顏色 <div class=\"show-blcok\" v-bind:style=\"{background: input.doneColor}\"></div></label>\n                            <input type=\"text\" class=\"form-control\"   v-model=\"input.doneColor\">\n                        </div>\n                        <hr />\n                        <div class=\"form-group\">\n                            <label for=\"exampleInputEmail1\">亂數跳動次數 [{{input.defaultRunTime}} 次]</label>\n                            <input type=\"range\" class=\"form-control\" min=\"10\" max=\"100\" v-model=\"input.defaultRunTime\">\n                        </div>\n                    </form>\n                </div>\n                <div class=\"modal-footer\">\n                    <div class=\"col-6 text-left\">\n                        <button type=\"button\" class=\"btn btn-danger\" v-on:click=\"clear\">清除所有資料</button>\n                    </div>\n                    <div class=\"col-6 text-right\">\n                        <button type=\"button\" class=\"btn btn-default\" v-on:click=\"cancel\">回復</button>\n                        <button type=\"button\" class=\"btn btn-primary\" v-on:click=\"save\">儲存</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport Vue from 'vue';\nimport { mapActions, mapGetters } from 'vuex';\n\nimport {mixpanel} from 'lib/common/util';\n\nlet targetDom = null;\n\nlet mixpanelTrackerTimer = null;\n\nexport default {\n    data: function() {\n        return {\n            input: {\n                webTitle: \"\",\n                headerColor: '#343a40',\n                backgroundImg: '',\n                backgroundOpacity: 0.5,\n                boxWidth: 0,\n                boxHeight: 0,\n                titleSize: 0,\n                subtitleSize: 0,\n                defaultColor: \"#FFF\",\n                focusColor: \"#FFC\",\n                doneColor: \"#FCC\",\n                defaultRunTime:0,\n            },\n            orgInput: {\n                webTitle: \"\",\n                boxWidth: 0,\n                boxHeight: 0,\n                titleSize: 0,\n                subtitleSize: 0,\n                defaultColor: \"#FFF\",\n                focusColor: \"#FFC\",\n                doneColor: \"#FCC\",\n                defaultRunTime:0,\n            },\n        }\n    },\n    methods: {\n        save: function() {\n            const that = this;\n            const params = {\n                config: that.input,\n            };\n            mixpanel.track(\"save setting\", params);\n            targetDom.modal(\"hide\");\n        },\n        cancel: function(){\n            const that = this;\n            const params = {\n                config: that.orgInput,\n            };\n            that.$store.dispatch(\"setConfig\", params);\n            mixpanel.track(\"cancel setting\", params);\n            targetDom.modal(\"hide\");\n        },\n        clear: function(){\n            const that = this;\n            if (confirm(\"您確定要清除所有的資料嗎？\")) {\n                that.$store.dispatch(\"clearAllData\");\n                mixpanel.track(\"clear all data\");\n                targetDom.modal(\"hide\");\n            }\n        },\n    },\n    watch: {\n        input: {\n            deep: true,\n            handler: function (val, oldVal) {\n                const that = this;\n                const params = {\n                    config: that.input,\n                };\n                that.$store.dispatch(\"setConfig\", params);\n\n                clearTimeout(mixpanelTrackerTimer);\n                mixpanelTrackerTimer = setTimeout(function(){\n                    mixpanel.track(\"try setting\", params);\n                },2000);\n            },\n        },\n        triggerOpenSetting: function() {\n            const that = this;\n            targetDom.modal(\"show\");\n        },\n    },\n    computed: {\n        ...mapGetters([\n            \"triggerOpenSetting\",\n            \"config\",\n        ])\n    },\n    mounted() {\n        const that = this;\n        targetDom = $(that.$el);\n        targetDom.bind(\"shown.bs.modal\", function() {\n            let config = JSON.parse(JSON.stringify(that.config));\n            that.input = { ...that.input, ...config};\n            that.orgInput = { ...that.orgInput, ...config};\n            mixpanel.track(\"open setting\");\n        });\n    },\n    props: {\n\n    },\n    components: {\n\n    }\n};\n</script>\n<style scoped>\n.show-blcok{\n    display: inline-block;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    width: 20px;\n    height: 20px;\n}\n</style>"],"sourceRoot":""}